{"version":3,"sources":["uni-app:///main.js","webpack:///D:/0upup/hxds-driver-wx/pages/workbench/workbench.vue?7fb0","webpack:///D:/0upup/hxds-driver-wx/pages/workbench/workbench.vue?b2f5","webpack:///D:/0upup/hxds-driver-wx/pages/workbench/workbench.vue?86ff","webpack:///D:/0upup/hxds-driver-wx/pages/workbench/workbench.vue?c3ad","uni-app:///pages/workbench/workbench.vue","webpack:///D:/0upup/hxds-driver-wx/pages/workbench/workbench.vue?becf","webpack:///D:/0upup/hxds-driver-wx/pages/workbench/workbench.vue?ca30"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","reviewAuth","hour","income","orders","map","windowHeight","contentStyle","latitude","longitude","service","locationIcon","locationText","locationStyle","messageIcon","messageText","messageStyle","listenIcon","listenText","listenStyle","settingIcon","settingText","settingStyle","settings","listenService","autoAccept","workStatus","newOrder","newOrderList","executeOrder","id","photo","title","tel","customerId","startPlace","startPlaceLocation","endPlace","endPlaceLocation","favourFee","carPlate","carType","createTime","reciveNewOrderTimer","playFlag","audio","canAcceptOrder","accepting","showModel","modelTitle","modelContent","model","cancelConfirm","show","content","cancelSuccess","recordNum","recordManager","stopRecord","methods","changeListenService","returnLocationHandle","startWorkHandle","uni","result","date","success","that","type","callback","stopWorkHandle","clearInterval","createTimer","ref","showNewOrder","orderId","distance","expectsFee","from","to","mileage","minute","plugin","lang","tts","setTimeout","fail","console","acceptHandle","loadExecuteOrder","callCustomerHandle","phoneNumber","callServiceHandle","showMoveHandle","url","arriveStartPlaceHandle","icon","startDrivingHandle","duration","endDrivingHandle","status","showNavigationHandle","destination","onLoad","qqmapsdk","key","name","text","complete","onShow","onHide"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,kBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACc;;;AAGtE;AACoL;AACpL,gBAAgB,6LAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,+NAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3DA;AAAA;AAAA;AAAA;AAA8qB,CAAgB,msBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuNlsB;AACA;AAEA;AACA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;UACAC;UACArB;UACAsB;QACA;QACAC;UACAF;UACArB;UACAsB;QACA;MACA;MACAE;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;QACA;QACA;QACA;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;AACA;AACA;AACA;AACA;AACA;MACA;MACAC;QAAAC;QAAAC;MAAA;MAEAF;QACA/B;QACAsB;QACAY;UACA;YACAH;YACA;YACAI;YACAtB;YACAA;YACAsB;cACAnC;cACAoC;cACAC;gBACAF;gBACAJ;gBACAI;gBACA;gBACAA;gBACAA;gBACAA;gBACA;gBACA;kBACAA;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IACAG;MACA;MACAP;QACA/B;QACAsB;QACAY;UACA;YACAH;YACA;cACAI;YACA;YACA;YACAA;YACAtB;YACAA;YACAsB;cACAnC;cACAoC;cACAC;gBACAF;gBACAA;gBACAJ;gBACA;gBACAI;gBACAA;gBACAA;gBACA;gBACAI;gBACAJ;gBACAA;cACA;YACA;UACA;QACA;MACA;IACA;IACAK;MACA;QACAC,SACAA,gCACA,QACA,MACA;UACA;UACA;YACA;YACAA;YACA;cACA;cACAA;YACA;UACA;QACA,GACA,MACA;MACA;MACA;IACA;IACAC;MACAD;MACAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAA;QACAE;QACAC;QACAC;QACAtC;QACAuC;QACAC;QACAC;QACAC;MACA;MACA;QACA;QACAR;QACAS;UACAC;UACAC;UACA9B;UACAY;YACArB;YACAA;YACAA;cACA4B;cACA;cACA;AACA;AACA;AACA;AACA;AACA;cACA,aACA;gBACA;kBACA;oBACAE;kBACA;kBACAF,SACAA,wBACA,QACAzE,MACA;oBACA;oBACA;sBACA+D;wBACA/B;sBACA;sBACAa;sBACA4B;sBACA5B;sBACAA;sBACAA;wBACA4B;wBACA;wBACAA;wBACAA;wBACAA;wBACAF;wBACAE;wBACAA;wBACA;wBACAA;wBACA;wBACAA;sBACA;oBACA;sBACA;sBACA5B;sBACA4B;sBACA5B;sBACAA;sBACAA;wBACA4B;wBACA;0BACAA;wBACA;0BACAA;wBACA;sBACA;oBACA;kBACA,GACA,MACA;gBACA;kBACAA;kBACAY;oBACA;oBACA;sBACAZ;sBACA;wBACAA;sBACA;wBACAA;sBACA;oBACA;kBACA;gBACA;cACA;YACA;UACA;UACAa;YACAC;YACAd;YACAA;YACAA;UACA;QACA;MACA;IACA;IACAe;MACA;MACA;QACA;MACA;MACArB;MACAJ;MACAI;QAAAQ;MAAA;QACA;QACA;QACA;QACA;UACAZ;YACA/B;UACA;UACAmC;UACAtB;UACAA;UACAA;YACA;YACAsB;YACAA;YACA;YACAA;YACAA;YACAA;YACAI;YACAJ;YACAA;YACAA;YACAA;YACA;YACAA;YACA;YACAA;UACA;QACA;UACAA;UACAtB;UACAA;UACAsB;UACAkB;YACAlB;YACAA;YACA;cACAA;YACA;cACAA;YACA;UACA;QACA;MACA;IACA;IACAsB;MACA;QACAd;MACA;MACAF;QACA;QACAA;UACA3C;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;QACA+B;QACAV;QACAA;MACA;IACA;IACA2B;MACA;MACA3B;QACA4B;MACA;IACA;IACAC;MACA;MACA7B;QACA4B;MACA;IACA;IACAE;MACA;MACA9B;QACA+B;MACA;IACA;IACAC;MACA;MACAhC;QACA/B;QACAsB;QACAY;UACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;cACAS;cACAzC;YACA;YACAiC;cACA;gBACAJ;kBACAiC;kBACAhE;gBACA;gBACAmC;gBACAJ;cACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;UACA;QACA;MACA;IACA;;IACAkC;MACA;MACAlC;QACA/B;QACAsB;QACAY;UACA;YACA;YACAC;YACA;cACAQ;cACAzC;YACA;YACAiC;cACA;gBACAJ;kBACAiC;kBACAhE;gBACA;gBACAmC;gBACAJ;gBACA;gBACAI;kBAAA+B;kBAAAf;gBAAA;cACA;YACA;UACA;QACA;MACA;IACA;IACAgB;MACA;MACApC;QACA/B;QACAsB;QACAY;UACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;cACAS;cACAzC;cACAkE;YACA;YACAjC;cACAA;cACA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAJ;gBACAA;kBACA+B;gBACA;cACA;gBACAP;cACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;UACA;QACA;MACA;IACA;;IACAc;MACA;MACA;MACA;MACA;MACA;QACA7F;QACAC;QACA6F;MACA;QACA9F;QACAC;QACA6F;MACA;MACA;MACAnC;QACA3D;QACAC;QACA6F;MACA;IACA;EAEA;EACAC;IACA;IACA;IACAC;MACAC;IACA;IACA;IACA;MACA;MACAtC;MACA;;MAEAV;QACA;UACAU;YAAA+B;YAAAf;UAAA;QACA;QAEA;QACA;QACAhB;QACA;UACAuC;UACAC;QACA;QACA;QACAxC;UACAoB;QACA;MACA;MACA9B;QACA8B;QACA;UACAxB;YACA6C;UACA;UACA7C;YACAiC;YACAhE;UACA;QACA;MACA;MACAyB;QACA8B;MACA;MAEApB;IACA;IACA;IACAA,UACAA,mCACA,QACA,MACA;MACA;QACA;QACAA;UACArC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;QACA;UACA;UACA;UACA;QACA;QACAyB;QACAA;QACAJ;QACAA;QACA;QACA;UACAI;YAAA+B;YAAAf;UAAA;QACA;MACA;IACA,GACA,MACA;;IAEA;IACAhB;EACA;EACA0C;IACA;;IAEA;;IAEA;;IAEA;MACA;MACA1C;QACA;QACAA;QACAA;QACAA;QAEA;QACAJ;QACAI;QACAA;QACAA;MACA;;MAEA;MACAJ;QACA;QACA;UACAI;UACAA;UACAA;UACAA;UACAA;QACA;UACAA;UACAA;UACAA;QACA;MACA;MAEA;;MAEA;MACA;QACAA;QACAA;QACAA;QACA;QACAA;MACA;;MAEA;MACA;QACAA;MACA;QACAA;MACA;IACA;EACA;EACA2C;IACA/C;IACA;IACA;IACA;MACA;MACA;IACA;IACAQ;IACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACh7BA;AAAA;AAAA;AAAA;AAAkvC,CAAgB,mtCAAG,EAAC,C;;;;;;;;;;;ACAtwC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/workbench/workbench.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/workbench/workbench.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./workbench.vue?vue&type=template&id=7e8c81f4&\"\nvar renderjs\nimport script from \"./workbench.vue?vue&type=script&lang=js&\"\nexport * from \"./workbench.vue?vue&type=script&lang=js&\"\nimport style0 from \"./workbench.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/workbench/workbench.vue\"\nexport default component.exports","export * from \"-!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./workbench.vue?vue&type=template&id=7e8c81f4&\"","var components\ntry {\n  components = {\n    uAvatar: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-avatar/u-avatar\" */ \"@/uview-ui/components/u-avatar/u-avatar.vue\"\n      )\n    },\n    uTopTips: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-top-tips/u-top-tips\" */ \"@/uview-ui/components/u-top-tips/u-top-tips.vue\"\n      )\n    },\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-toast/u-toast\" */ \"@/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n    uModal: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = [\"接客户\", \"到达代驾点\", \"开始代驾\"].includes(_vm.workStatus)\n  var g1 = [\"开始接单\", \"停止接单\"].includes(_vm.workStatus)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./workbench.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./workbench.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <view class=\"review-container\" v-show=\"reviewAuth\">\n            <image src=\"../../static/workbench/review.png\" mode=\"widthFix\"></image>\n            <view class=\"title\">您的实名资料正在审核中</view>\n            <view class=\"desc\">这期间您将无法接单，请等待资料审核通过</view>\n        </view>\n        <view v-show=\"!reviewAuth\">\n            <view class=\"top-container\">\n                <view class=\"notice\">今日数据：凌晨00:00 ~ 本日23:59</view>\n                <view class=\"summary-container\">\n                    <view class=\"item\">\n                        <view class=\"title\">代驾时长</view>\n                        <view class=\"value\">\n                            <text class=\"number\">{{ hour }}</text>\n                            <text class=\"unit\">时</text>\n                        </view>\n                    </view>\n                    <view class=\"item\">\n                        <view class=\"title\">今日收入</view>\n                        <view class=\"value\">\n                            <text class=\"number\">{{ income }}</text>\n                            <text class=\"unit\">元</text>\n                        </view>\n                    </view>\n                    <view class=\"item\">\n                        <view class=\"title\">今日成单</view>\n                        <view class=\"value\">\n                            <text class=\"number\">{{ orders }}</text>\n                            <text class=\"unit\">单</text>\n                        </view>\n                    </view>\n                </view>\n                <view class=\"service-container\">\n                    <view class=\"item\" :style=\"service.locationStyle\">\n                        <image :src=\"service.locationIcon\" mode=\"widthFix\" class=\"icon icon-1\"></image>\n                        {{ service.locationText }}\n                    </view>\n                    <view class=\"item\" :style=\"service.messageStyle\">\n                        <image :src=\"service.messageIcon\" mode=\"widthFix\" class=\"icon icon-2\"></image>\n                        {{ service.messageText }}\n                    </view>\n                    <view class=\"item\" :style=\"service.listenStyle\" @tap=\"listenHandle()\">\n                        <image :src=\"service.listenIcon\" mode=\"widthFix\" class=\"icon icon-3\"></image>\n                        {{ service.listenText }}\n                    </view>\n                    <view class=\"item\" :style=\"service.settingStyle\" @tap=\"settingHandle()\">\n                        <image :src=\"service.settingIcon\" mode=\"widthFix\" class=\"icon icon-4\"></image>\n                        {{ service.settingText }}\n                    </view>\n                </view>\n            </view>\n            <view v-show=\"workStatus == '停止接单'\">\n                <map id=\"map\" :longitude=\"longitude\" :latitude=\"latitude\" scale=\"15\" :style=\"contentStyle\" :enable-traffic=\"true\" :show-location=\"true\" :enable-poi=\"true\">\n                    <cover-image class=\"location\" src=\"../../static/workbench/location.png\" @tap=\"returnLocationHandle()\"></cover-image>\n                </map>\n            </view>\n            <scroll-view scroll-y=\"true\" :style=\"contentStyle\" v-show=\"workStatus == '开始接单'\">\n                <view class=\"new-order\">\n                    <view v-if=\"newOrder == null\">\n                        <image src=\"../../static/workbench/no-order.png\" mode=\"widthFix\" class=\"no-order-img\"></image>\n                        <view class=\"no-order-title\">目前暂无订单</view>\n                    </view>\n                    <view v-if=\"newOrder != null\">\n                        <view class=\"line-1\">\n                            <view>\n                                <view class=\"sub-time\">距离您</view>\n                                <view>\n                                    <text class=\"number\">{{ newOrder.distance }}</text>\n                                    <text class=\"unit\">公里</text>\n                                </view>\n                            </view>\n                            <view>\n                                <view class=\"sub-time\">全程</view>\n                                <view>\n                                    <text class=\"number\">{{ newOrder.mileage }}</text>\n                                    <text class=\"unit\">公里</text>\n                                </view>\n                            </view>\n                            <view>\n                                <view class=\"tag\">含加价{{ newOrder.favourFee }}元</view>\n                                <view>\n                                    <text class=\"number\">{{ newOrder.expectsFee }}</text>\n                                    <text class=\"unit\">元</text>\n                                </view>\n                            </view>\n                        </view>\n                        <view class=\"line-2\">\n                            <view class=\"from\">\n                                <text>{{ newOrder.from }}</text>\n                            </view>\n                            <view class=\"dashed-line\"></view>\n                            <view class=\"to\">\n                                <text>{{ newOrder.to }}</text>\n                            </view>\n                        </view>\n                        <button :class=\"!canAcceptOrder ? 'disabled-btn' : 'accept-btn'\" @tap=\"acceptHandle\">立即抢单</button>\n                    </view>\n                </view>\n                <view class=\"notice-container\">\n                    <view class=\"title\">【 抢单说明 】</view>\n                    <view class=\"desc\">\n                        <text class=\"num\">1.</text>\n                        当前地区可能存在多个代驾订单，但是司机端只能显示其中一条订单。这是为了保障代驾乘客订单的接单率，避免代驾司机只挑选优质订单。\n                    </view>\n                    <view class=\"desc\">\n                        <text class=\"num\">2.</text>\n                        某条订单如果10秒钟之内您没有抢单，系统则认定您主动放弃该订单，系统将为你推送新的订单。\n                    </view>\n                </view>\n            </scroll-view>\n            <scroll-view scroll-y=\"true\" :style=\"contentStyle\" class=\"execute-order-container\" v-show=\"['接客户', '到达代驾点', '开始代驾'].includes(workStatus)\">\n                <view class=\"call\" @tap=\"callCustomerHandle\"></view>\n                <view class=\"customer-container\">\n                    <u-avatar :src=\"executeOrder.photo\" mode=\"square\"></u-avatar>\n                    <view class=\"info\">\n                        <view class=\"customer-name\">代驾客户（{{ executeOrder.title }}）</view>\n                        <view class=\"customer-tel\">Tel：{{ executeOrder.tel }}</view>\n                    </view>\n                </view>\n                <view class=\"address-container\">\n                    <view class=\"from\">\n                        <text>{{ executeOrder.startPlace }}</text>\n                    </view>\n                    <view class=\"dashed-line\"></view>\n                    <view class=\"to\">\n                        <text>{{ executeOrder.endPlace }}</text>\n                    </view>\n                </view>\n                <view class=\"order-container\">\n                    <view>【 订单号码 】 {{ executeOrder.id }}</view>\n                    <view>【 下单时间 】 {{ executeOrder.createTime }}</view>\n                    <view>【 客户红包 】 {{ executeOrder.favourFee }}元</view>\n                    <view>【 代驾车型 】 {{ executeOrder.carType }}</view>\n                    <view>【 代驾车牌 】 {{ executeOrder.carPlate }}</view>\n                </view>\n                <view class=\"operate-container\">\n                    <view class=\"item\" @tap=\"cancelOrderHandle\">\n                        <image src=\"../../static/workbench/cancel-icon.png\" mode=\"widthFix\" class=\"cancel-icon\"></image>\n                        <text class=\"cancel-text\">取消订单</text>\n                    </view>\n                    <view class=\"vline\"></view>\n                    <view class=\"item\" v-show=\"workStatus == '接客户'\" @tap=\"arriveStartPlaceHandle\">\n                        <image src=\"../../static/workbench/arrive-start-icon.png\" mode=\"widthFix\" class=\"arrive-start-icon\"></image>\n                        <text class=\"arrive-start-text\">到达代驾点</text>\n                    </view>\n                    <view class=\"item\" v-show=\"workStatus == '到达代驾点'\" @tap=\"startDrivingHandle\">\n                        <image src=\"../../static/workbench/drive-start-icon.png\" mode=\"widthFix\" class=\"drive-start-icon\"></image>\n                        <text class=\"drive-start-text\">开始代驾</text>\n                    </view>\n                    <view class=\"item\" v-show=\"workStatus == '开始代驾'\" @tap=\"endDrivingHandle\">\n                        <image src=\"../../static/workbench/drive-stop-icon.png\" mode=\"widthFix\" class=\"drive-stop-icon\"></image>\n                        <text class=\"drive-stop-text\">结束代驾</text>\n                    </view>\n                    <view class=\"vline\"></view>\n                    <view class=\"item\">\n                        <image src=\"../../static/workbench/alarm-icon.png\" mode=\"widthFix\" class=\"alarm-icon\"></image>\n                        <text class=\"alarm-text\">立即报警</text>\n                    </view>\n                </view>\n                <view class=\"other-container\">\n                    <view class=\"item\" @tap=\"showNavigationHandle\">\n                        <image src=\"../../static/workbench/other-icon-1.png\" mode=\"widthFix\" class=\"location-icon\"></image>\n                        <text class=\"location-text\">定位导航</text>\n                    </view>\n                    <view class=\"item\" @tap=\"showMoveHandle\">\n                        <image src=\"../../static/workbench/other-icon-2.png\" mode=\"widthFix\" class=\"display-icon\"></image>\n                        <text class=\"display-text\">司乘同显</text>\n                    </view>\n                    <view class=\"item\" @tap=\"showOrderHandle\">\n                        <image src=\"../../static/workbench/other-icon-3.png\" mode=\"widthFix\" class=\"order-icon\"></image>\n                        <text class=\"order-text\">订单详情</text>\n                    </view>\n                    <view class=\"item\" @tap=\"callServiceHandle\">\n                        <image src=\"../../static/workbench/other-icon-4.png\" mode=\"widthFix\" class=\"service-icon\"></image>\n                        <text class=\"service-text\">客服热线</text>\n                    </view>\n                </view>\n            </scroll-view>\n            <view class=\"bottom-container\" v-show=\"['开始接单', '停止接单'].includes(workStatus)\">\n                <view class=\"btn\" @tap=\"gohomeHandle()\">\n                    <image src=\"../../static/workbench/btn-icon-1.png\" mode=\"widthFix\" class=\"btn-icon-1\"></image>\n                    <text>回家</text>\n                </view>\n                <view class=\"btn primary\">\n                    <text v-show=\"workStatus == '停止接单'\" @tap=\"startWorkHandle()\">开始接单</text>\n                    <text v-show=\"workStatus == '开始接单'\" @tap=\"stopWorkHandle()\">停止接单</text>\n                </view>\n                <view class=\"btn\" @tap=\"rechargeHandle()\">\n                    <image src=\"../../static/workbench/btn-icon-2.png\" mode=\"widthFix\" class=\"btn-icon-2\"></image>\n                    <text>充值</text>\n                </view>\n            </view>\n        </view>\n        <u-top-tips ref=\"uTips\"></u-top-tips>\n        <u-toast ref=\"uToast\" />\n        <u-modal\n            v-model=\"model.cancelConfirm.show\"\n            :title=\"model.cancelConfirm.title\"\n            :content=\"model.cancelConfirm.content\"\n            :show-confirm-button=\"true\"\n            :show-cancel-button=\"true\"\n            @confirm=\"confirmCancelOrder\"\n        ></u-modal>\n        <u-modal\n            v-model=\"model.cancelSuccess.show\"\n            :title=\"model.cancelSuccess.title\"\n            :content=\"model.cancelSuccess.content\"\n            :show-confirm-button=\"true\"\n            :show-cancel-button=\"false\"\n        ></u-modal>\n    </view>\n</template>\n\n<script>\nlet QQMapWX = require('../../lib/qqmap-wx-jssdk.min.js');\nlet qqmapsdk;\n\nlet plugin = requirePlugin('WechatSI');\nlet dayjs = require('dayjs');\nexport default {\n    data() {\n        return {\n            reviewAuth: uni.getStorageSync('realAuth') == 3,\n            hour: 0,\n            income: 0,\n            orders: 0,\n            map: null,\n            windowHeight: 0,\n            contentStyle: '',\n            latitude: 39.908823,\n            longitude: 116.39747,\n            service: {\n                locationIcon: '../../static/workbench/service-icon-1.png',\n                locationText: '定位正常',\n                locationStyle: '',\n                messageIcon: '../../static/workbench/service-icon-2.png',\n                messageText: '推送正常',\n                messageStyle: '',\n                listenIcon: '../../static/workbench/service-icon-3.png',\n                listenText: '收听订单',\n                listenStyle: '',\n                settingIcon: '../../static/workbench/service-icon-4.png',\n                settingText: '接单设置',\n                settingStyle: ''\n            },\n            settings: {\n                listenService: true,\n                autoAccept: false\n            },\n            workStatus: uni.getStorageSync('workStatus'),\n            newOrder: null,\n            newOrderList: [],\n            executeOrder: {\n                id: '',\n                photo: '',\n                title: '',\n                tel: '',\n                customerId: '',\n                startPlace: '',\n                startPlaceLocation: {},\n                endPlace: '',\n                endPlaceLocation: {},\n                favourFee: '',\n                carPlate: '',\n                carType: '',\n                createTime: ''\n            },\n            reciveNewOrderTimer: null,\n            playFlag: false,\n            audio: null,\n            canAcceptOrder: false,\n            accepting: false,\n            showModel: false,\n            modelTitle: '',\n            modelContent: '',\n            model: {\n                cancelConfirm: {\n                    show: false,\n                    title: '提示消息',\n                    content: '如果不满足订单免费取消规则，只能有偿取消订单，并且可能被禁止接单一段时间，您确认要取消当前订单？'\n                },\n                cancelSuccess: {\n                    show: false,\n                    title: '提示消息',\n                    content: ''\n                }\n            },\n            recordNum: 0,\n            recordManager: null,\n            stopRecord: false\n        };\n    },\n    methods: {\n        changeListenService: function(bool) {\n            if (bool) {\n                this.service.listenIcon = '../../static/workbench/service-icon-3.png';\n                this.service.listenStyle = 'color:#46B68F';\n                this.service.listenText = '收听订单';\n            } else {\n                this.service.listenIcon = '../../static/workbench/service-icon-7.png';\n                this.service.listenStyle = 'color:#FF4D4D';\n                this.service.listenText = '不听订单';\n            }\n        },\n        returnLocationHandle: function() {\n            this.map.moveToLocation();\n        },\n        startWorkHandle: function() {\n            let that = this;\n            /*\n             * TODO 检查司机是否可以接单\n             * 1.没有被禁止接单\n             * 2.没有未缴纳的罚款\n             * 3.当天已经做了人脸验证\n             */\n            //设置司机当天通过身份验证\n            uni.setStorageSync('verification', { result: true, date: dayjs().format('YYYY-MM-DD') });\n\n            uni.showModal({\n                title: '提示消息',\n                content: '你要开始接收代驾订单信息？',\n                success: function(resp) {\n                    if (resp.confirm) {\n                        uni.vibrateShort({});\n                        let audio = uni.createInnerAudioContext();\n                        that.audio = audio;\n                        audio.src = '/static/voice/voice_1.mp3';\n                        audio.play();\n                        that.$refs.uToast.show({\n                            title: '开始接单了',\n                            type: 'success',\n                            callback: function() {\n                                that.ajax(that.url.startWork, 'POST', null, function(resp) {});\n                                uni.setStorageSync('workStatus', '开始接单');\n                                that.workStatus = '开始接单';\n                                //初始化新订单和列表变量\n                                that.newOrder = null;\n                                that.newOrderList.length = 0;\n                                that.executeOrder = {};\n                                //创建接收新订单消息的定时器，每隔5秒钟接收一次新订单消息\n                                if (that.reciveNewOrderTimer == null) {\n                                    that.reciveNewOrderTimer = that.createTimer(that);\n                                }\n                            }\n                        });\n                    }\n                }\n            });\n        },\n        stopWorkHandle: function() {\n            let that = this;\n            uni.showModal({\n                title: '提示消息',\n                content: '你要停止接收代驾订单信息？',\n                success: function(resp) {\n                    if (resp.confirm) {\n                        uni.vibrateShort({});\n                        if (that.audio != null) {\n                            that.audio.stop();\n                        }\n                        let audio = uni.createInnerAudioContext();\n                        that.audio = audio;\n                        audio.src = '/static/voice/voice_2.mp3';\n                        audio.play();\n                        that.$refs.uToast.show({\n                            title: '停止接单了',\n                            type: 'default',\n                            callback: function() {\n                                that.ajax(that.url.stopWork, 'POST', null, function(resp) {});\n                                that.workStatus = '停止接单';\n                                uni.setStorageSync('workStatus', '停止接单');\n                                //初始化新订单和列表变量\n                                that.newOrder = null;\n                                that.newOrderList.length = 0;\n                                that.executeOrder = {};\n                                //销毁接收新订单消息的定时器\n                                clearInterval(that.reciveNewOrderTimer);\n                                that.reciveNewOrderTimer = null;\n                                that.playFlag = false;\n                            }\n                        });\n                    }\n                }\n            });\n        },\n        createTimer: function(ref) {\n            let timer = setInterval(function() {\n                ref.ajax(\n                    ref.url.receiveNewOrderMessage,\n                    'POST',\n                    null,\n                    function(resp) {\n                        let result = resp.data.result;\n                        if (result.length > 0) {\n                            // console.log(result);\n                            ref.newOrderList = result.concat(ref.newOrderList);\n                            if (ref.playFlag == false) {\n                                //调用封装函数\n                                ref.showNewOrder(ref);\n                            }\n                        }\n                    },\n                    false\n                );\n            }, 5000);\n            return timer;\n        },\n        showNewOrder: function(ref) {\n            ref.playFlag = true;\n            ref.canAcceptOrder = false;\n            let order = ref.newOrderList.shift();\n            let orderId = order.orderId;\n            let distance = order.distance;\n            let expectsFee = order.expectsFee;\n            let favourFee = order.favourFee;\n            let from = order.from;\n            let to = order.to;\n            let mileage = order.mileage;\n            let minute = order.minute;\n            ref.newOrder = {\n                orderId: orderId,\n                distance: distance,\n                expectsFee: expectsFee,\n                favourFee: favourFee,\n                from: from,\n                to: to,\n                mileage: mileage,\n                minute: minute\n            };\n            if (ref.settings.listenService) {\n                let audio = uni.createInnerAudioContext();\n                ref.audio = audio;\n                plugin.textToSpeech({\n                    lang: 'zh_CN',\n                    tts: true,\n                    content: `即时订单，距离您${distance}公里，从${from}，到${to}，全程约${mileage}公里，预估代驾费${expectsFee}元`,\n                    success: function(resp) {\n                        audio.src = resp.filename;\n                        audio.play();\n                        audio.onEnded(function() {\n                            ref.canAcceptOrder = true;\n                            let verification = uni.getStorageSync('verification');\n                            /*\n                             * TODO 判断人脸识别凭证是否过期，如果过期就要重新人脸验证。\n                             * 这是以防司机今天开始接单人脸验证通过，但是一直没有停止接单，\n                             * 到了次日依然要重新做人脸验证。\n                             *\n                             */\n                            if (false) {\n                            } else {\n                                if (ref.settings.autoAccept) {\n                                    let data = {\n                                        orderId: orderId\n                                    };\n                                    ref.ajax(\n                                        ref.url.acceptNewOrder,\n                                        'POST',\n                                        data,\n                                        function(resp) {\n                                            let result = resp.data.result;\n                                            if (result == '接单成功') {\n                                                uni.showToast({\n                                                    title: '接单成功'\n                                                });\n                                                audio = uni.createInnerAudioContext();\n                                                ref.audio = audio;\n                                                audio.src = '/static/voice/voice_3.mp3';\n                                                audio.play();\n                                                audio.onEnded(function() {\n                                                    ref.ajax(ref.url.stopWork, 'POST', null, function(resp) {});\n                                                    //初始化新订单和列表变量\n                                                    ref.newOrder = null;\n                                                    ref.newOrderList.length = 0;\n                                                    ref.executeOrder.id = orderId;\n                                                    clearInterval(ref.reciveNewOrderTimer);\n                                                    ref.reciveNewOrderTimer = null;\n                                                    ref.playFlag = false;\n                                                    //隐藏了工作台页面底部操作条之后，需要重新计算订单执行View的高度\n                                                    ref.contentStyle = `width: 750rpx;height:${ref.windowHeight - 200 - 0}px;`;\n                                                    //加载订单执行数据\n                                                    ref.loadExecuteOrder(ref);\n                                                });\n                                            } else {\n                                                //自动抢单失败\n                                                audio = uni.createInnerAudioContext();\n                                                ref.audio = audio;\n                                                audio.src = '/static/voice/voice_4.mp3';\n                                                audio.play();\n                                                audio.onEnded(function() {\n                                                    ref.playFlag = false;\n                                                    if (ref.newOrderList.length > 0) {\n                                                        ref.showNewOrder(ref);\n                                                    } else {\n                                                        ref.newOrder = null;\n                                                    }\n                                                });\n                                            }\n                                        },\n                                        false\n                                    );\n                                } else {\n                                    ref.playFlag = false;\n                                    setTimeout(function() {\n                                        //如果用户不是正在手动抢单中，就播放下一个新订单\n                                        if (!ref.accepting) {\n                                            ref.canAcceptOrder = false;\n                                            if (ref.newOrderList.length > 0) {\n                                                ref.showNewOrder(ref); //递归调用\n                                            } else {\n                                                ref.newOrder = null;\n                                            }\n                                        }\n                                    }, 3000);\n                                }\n                            }\n                        });\n                    },\n                    fail: function(resp) {\n                        console.error('语音订单播报失败', resp);\n                        ref.playFlag = false;\n                        ref.canAcceptOrder = true;\n                        ref.acception = false;\n                    }\n                });\n            }\n        },\n        acceptHandle: function() {\n            let that = this;\n            if (!that.canAcceptOrder || that.accepting) {\n                return;\n            }\n            that.accepting = true;\n            uni.vibrateShort({});\n            that.ajax(that.url.acceptNewOrder, 'POST', { orderId: that.newOrder.orderId }, function(resp) {\n                let audio = uni.createInnerAudioContext();\n                let result = resp.data.result;\n                //手动抢单成功\n                if (result == '接单成功') {\n                    uni.showToast({\n                        title: '接单成功'\n                    });\n                    that.audio = audio;\n                    audio.src = '/static/voice/voice_3.mp3';\n                    audio.play();\n                    audio.onEnded(function() {\n                        //停止接单\n                        that.audio = null;\n                        that.ajax(that.url.stopWork, 'POST', null, function(resp) {});\n                        //初始化新订单和列表变量\n                        that.executeOrder.id = that.newOrder.orderId;\n                        that.newOrder = null;\n                        that.newOrderList.length = 0;\n                        clearInterval(that.reciveNewOrderTimer);\n                        that.reciveNewOrderTimer = null;\n                        that.playFlag = false;\n                        that.accepting = false;\n                        that.canAcceptOrder = false;\n                        //隐藏了工作台页面底部操作条之后，需要重新计算订单执行View的高度\n                        that.contentStyle = `width: 750rpx;height:${that.windowHeight - 200 - 0}px;`;\n                        //加载订单执行数据\n                        that.loadExecuteOrder(that);\n                    });\n                } else {\n                    that.audio = audio;\n                    audio.src = '/static/voice/voice_4.mp3';\n                    audio.play();\n                    that.playFlag = false;\n                    setTimeout(function() {\n                        that.accepting = false;\n                        that.canAcceptOrder = false;\n                        if (that.newOrderList.length > 0) {\n                            that.showNewOrder(that); //递归调用\n                        } else {\n                            that.newOrder = null;\n                        }\n                    }, 3000);\n                }\n            });\n        },\n        loadExecuteOrder: function(ref) {\n            let data = {\n                orderId: ref.executeOrder.id\n            };\n            ref.ajax(ref.url.searchDriverExecuteOrder, 'POST', data, function(resp) {\n                let result = resp.data.result;\n                ref.executeOrder = {\n                    id: ref.executeOrder.id,\n                    photo: result.photo,\n                    title: result.title,\n                    tel: result.tel,\n                    customerId: result.customerId,\n                    startPlace: result.startPlace,\n                    startPlaceLocation: JSON.parse(result.startPlaceLocation),\n                    endPlace: result.endPlace,\n                    endPlaceLocation: JSON.parse(result.endPlaceLocation),\n                    favourFee: result.favourFee,\n                    carPlate: result.carPlate,\n                    carType: result.carType,\n                    createTime: result.createTime\n                };\n                ref.workStatus = '接客户';\n                uni.setStorageSync('workStatus', '接客户');\n                uni.setStorageSync('executeOrder', ref.executeOrder);\n            });\n        },\n        callCustomerHandle: function() {\n            let that = this;\n            uni.makePhoneCall({\n                phoneNumber: that.executeOrder.tel\n            });\n        },\n        callServiceHandle: function() {\n            let that = this;\n            uni.makePhoneCall({\n                phoneNumber: '10086'\n            });\n        },\n        showMoveHandle: function() {\n            let that = this;\n            uni.navigateTo({\n                url: '../../execution/move/move?orderId=' + that.executeOrder.id\n            });\n        },\n        arriveStartPlaceHandle: function() {\n            let that = this;\n            uni.showModal({\n                title: '消息通知',\n                content: '确认已经到达了代驾点？',\n                success: function(resp) {\n                    if (resp.confirm) {\n                        // qqmapsdk.calculateDistance({\n                        //     mode: 'straight',\n                        //     from: {\n                        //         latitude: that.latitude,\n                        //         longitude: that.longitude\n                        //     },\n                        //     to: [\n                        //         {\n                        //             latitude: that.executeOrder.startPlaceLocation.latitude,\n                        //             longitude: that.executeOrder.startPlaceLocation.longitude\n                        //         }\n                        //     ],\n                        //     success: function(resp) {\n                        //         let distance = resp.result.elements[0].distance;\n                        //         if (distance <= 1000) {\n                                    let data = {\n                                        orderId: that.executeOrder.id,\n                                        customerId: that.executeOrder.customerId\n                                    };\n                                    that.ajax(that.url.arriveStartPlace, 'POST', data, function(resp) {\n                                        if (resp.data.rows == 1) {\n                                            uni.showToast({\n                                                icon: 'success',\n                                                title: '订单状态更新成功'\n                                            });\n                                            that.workStatus = '到达代驾点';\n                                            uni.setStorageSync('workStatus', '到达代驾点');\n                                        }\n                                    });\n                        //         } else {\n                        //             uni.showToast({\n                        //                 icon: 'none',\n                        //                 title: '请移动到距离代驾起点1公里以内'\n                        //             });\n                        //         }\n                        //     },\n                        //     fail: function(error) {\n                        //         console.log(error);\n                        //     }\n                        // });\n                    }\n                }\n            });\n        },\n        startDrivingHandle: function() {\n            let that = this;\n            uni.showModal({\n                title: '消息通知',\n                content: '您已经接到客户，现在开始代驾？',\n                success: function(resp) {\n                    if (resp.confirm) {\n                        //设置录音标志位\n                        that.stopRecord = false;\n                        let data = {\n                            orderId: that.executeOrder.id,\n                            customerId: that.executeOrder.customerId\n                        };\n                        that.ajax(that.url.startDriving, 'POST', data, function(resp) {\n                            if (resp.data.rows == 1) {\n                                uni.showToast({\n                                    icon: 'success',\n                                    title: '订单状态更新成功'\n                                });\n                                that.workStatus = '开始代驾';\n                                uni.setStorageSync('workStatus', '开始代驾');\n                                //开始录音\n                                that.recordManager.start({ duration: 20 * 1000, lang: 'zh_CN' });\n                            }\n                        });\n                    }\n                }\n            });\n        },\n        endDrivingHandle: function() {\n            let that = this;\n            uni.showModal({\n                title: '消息通知',\n                content: '已经到达终点，现在结束代驾？',\n                success: function(resp) {\n                    if (resp.confirm) {\n                        // qqmapsdk.calculateDistance({\n                        //     mode: 'straight',\n                        //     from: {\n                        //         latitude: that.latitude,\n                        //         longitude: that.longitude\n                        //     },\n                        //     to: [\n                        //         {\n                        //             latitude: that.executeOrder.endPlaceLocation.latitude,\n                        //             longitude: that.executeOrder.endPlaceLocation.longitude\n                        //         }\n                        //     ],\n                        //     success: function(resp) {\n                        //         let distance = resp.result.elements[0].distance;\n                        //         if (distance <= 2000) {\n                                    let data = {\n                                        orderId: that.executeOrder.id,\n                                        customerId: that.executeOrder.customerId,\n                                        status: 5\n                                    };\n                                    that.ajax(that.url.updateOrderStatus, 'POST', data, function(resp) {\n                                        that.stopRecord = true;\n                                        try {\n                                            that.recordManager.stop();\n                                            that.recordNum = 0;\n                                            that.stopRecord = false;\n                                            that.workStatus = '结束代驾';\n                                            uni.setStorageSync('workStatus', '结束代驾');\n                                            uni.navigateTo({\n                                                url: '../../order/enter_fee/enter_fee?orderId=' + that.executeOrder.id + '&customerId=' + that.executeOrder.customerId\n                                            });\n                                        } catch (e) {\n                                            console.error(e);\n                                        }\n                                    });\n                        //         } else {\n                        //             uni.showToast({\n                        //                 icon: 'none',\n                        //                 title: '请移动到距离代驾终点2公里以内'\n                        //             });\n                        //         }\n                        //     },\n                        //     fail: function(error) {\n                        //         console.log(error);\n                        //     }\n                        // });\n                    }\n                }\n            });\n        },\n        showNavigationHandle: function() {\n            let that = this;\n            let latitude = null;\n            let longitude = null;\n            let destination = null;\n            if (that.workStatus == '接客户') {\n                latitude = Number(that.executeOrder.startPlaceLocation.latitude);\n                longitude = Number(that.executeOrder.startPlaceLocation.longitude);\n                destination = that.executeOrder.startPlace;\n            } else {\n                latitude = Number(that.executeOrder.endPlaceLocation.latitude);\n                longitude = Number(that.executeOrder.endPlaceLocation.longitude);\n                destination = that.executeOrder.endPlace;\n            }\n            //打开手机导航软件\n            that.map.openMapApp({\n                latitude: latitude,\n                longitude: longitude,\n                destination: destination\n            });\n        },\n\n    },\n    onLoad: function() {\n        let that = this;\n        //新添加----------------------------------------------\n        qqmapsdk = new QQMapWX({\n            key: that.tencent.map.key\n        });\n        //---------------------------------------------------\n        if (!that.reviewAuth) {\n            let windowHeight = uni.getSystemInfoSync().windowHeight;\n            that.windowHeight = windowHeight;\n            let recordManager = plugin.getRecordRecognitionManager(); //初始化录音管理器\n\n            recordManager.onStop = function(resp) {\n                if (that.workStatus == '开始代驾' && that.stopRecord == false) {\n                    that.recordManager.start({ duration: 20 * 1000, lang: 'zh_CN' });\n                }\n\n                let tempFilePath = resp.tempFilePath;\n                //上传录音\n                that.recordNum += 1;\n                let data = {\n                    name: `${that.executeOrder.id}-${that.recordNum}.mp3`,\n                    text: resp.result\n                };\n                // console.log(data);\n                that.upload(that.url.uploadRecordFile, tempFilePath, data, function(resp) {\n                    console.log('录音上传成功');\n                });\n            };\n            recordManager.onStart = function(resp) {\n                console.log('成功开始录音识别');\n                if (that.recordNum == 0) {\n                    uni.vibrateLong({\n                        complete: function() {}\n                    });\n                    uni.showToast({\n                        icon: 'none',\n                        title: '请提示客户系上安全带！'\n                    });\n                }\n            };\n            recordManager.onError = function(resp) {\n                console.error('录音识别故障', resp.msg);\n            };\n\n            that.recordManager = recordManager;\n        }\n        //查询正在执行的订单\n        that.ajax(\n            that.url.searchDriverCurrentOrder,\n            'POST',\n            null,\n            function(resp) {\n                if (resp.data.hasOwnProperty('result')) {\n                    let result = resp.data.result;\n                    that.executeOrder = {\n                        id: result.id,\n                        photo: result.photo,\n                        title: result.title,\n                        tel: result.tel,\n                        customerId: result.customerId,\n                        startPlace: result.startPlace,\n                        startPlaceLocation: JSON.parse(result.startPlaceLocation),\n                        endPlace: result.endPlace,\n                        endPlaceLocation: JSON.parse(result.endPlaceLocation),\n                        favourFee: result.favourFee,\n                        carPlate: result.carPlate,\n                        carType: result.carType,\n                        createTime: result.createTime\n                    };\n                    let map = {\n                        '2': '接客户',\n                        '3': '到达代驾点',\n                        '4': '开始代驾'\n                    };\n                    that.contentStyle = `width: 750rpx;height:${that.windowHeight - 200 - 0}px;`;\n                    that.workStatus = map[result.status + ''];\n                    uni.setStorageSync('workStatus', that.workStatus);\n                    uni.setStorageSync('executeOrder', that.executeOrder);\n                    // console.log(that.workStatus);\n                    if (that.workStatus == '开始代驾') {\n                        that.recordManager.start({ duration: 20 * 1000, lang: 'zh_CN' });\n                    }\n                }\n            },\n            false\n        );\n\n        //初始化地图\n        that.map = uni.createMapContext('map');\n    },\n    onShow: function() {\n        let that = this;\n\n        //TODO 定时刷新消息\n\n        //TODO 更新消息服务状态，可用或者不可用\n\n        if (!that.reviewAuth) {\n            //查询控制台数据\n            that.ajax(that.url.searchWorkbenchData, 'POST', null, function(resp) {\n                let result = resp.data.result;\n                that.hour = result.business.duration;\n                that.income = result.business.income;\n                that.orders = result.business.orders;\n\n                let settings = result.settings;\n                uni.setStorageSync('settings', settings);\n                that.settings.listenService = settings.listenService;\n                that.settings.autoAccept = settings.autoAccept;\n                that.changeListenService(that.settings.listenService);\n            });\n\n            //实时获取定位\n            uni.$on('updateLocation', function(location) {\n                // console.log(location)\n                if (location != null) {\n                    that.service.locationIcon = '../../static/workbench/service-icon-1.png';\n                    that.service.locationText = '定位正常';\n                    that.service.locationStyle = 'color:#46B68F';\n                    that.latitude = location.latitude;\n                    that.longitude = location.longitude;\n                } else {\n                    that.service.locationIcon = '../../static/workbench/service-icon-5.png';\n                    that.service.locationText = '定位失败';\n                    that.service.locationStyle = 'color:#FF4D4D';\n                }\n            });\n\n            let workStatus = uni.getStorageSync('workStatus');\n\n            //判断工作状态，是否定时轮询接单\n            if (workStatus == '开始接单') {\n                that.newOrder = null;\n                that.newOrderList.length = 0;\n                that.playFlag = false;\n                //创建接收新订单消息的定时器，每隔5秒钟接收一次新订单消息\n                that.reciveNewOrderTimer = that.createTimer(that);\n            }\n\n            //初始化控件高度\n            if (['接客户', '到达代驾点', '开始代驾'].includes(workStatus)) {\n                that.contentStyle = `width: 750rpx;height:${that.windowHeight - 200 - 0}px;`;\n            } else {\n                that.contentStyle = `width: 750rpx;height:${that.windowHeight - 200 - 70}px;`;\n            }\n        }\n    },\n    onHide: function() {\n        uni.$off('updateLocation');\n        this.newOrder = null;\n        this.newOrderList.length = 0;\n        if (this.audio != null) {\n            this.audio.stop();\n            this.audio = null;\n        }\n        clearInterval(this.reciveNewOrderTimer);\n        this.reciveNewOrderTimer = null;\n        this.playFlag = false;\n    }\n};\n</script>\n\n<style lang=\"less\">\n@import url('workbench.less');\n</style>\n","import mod from \"-!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./workbench.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./workbench.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1680298074769\n      var cssReload = require(\"E:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}